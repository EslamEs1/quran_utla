{% extends "base.html" %}
{% load static %}
{% block title %}
<div class="title-invoices">
    <h3 class="text-center">Student Invoice</h3>
    <h6 class="text-center">{{ student.name }}</h6>
</div>
{% endblock title %}

{% block content %}
<div class="list-family">
    <ul>
        <li>Quran Utla Academy</li>
        <li>Phone Number: +20 1014205947</li>
        <li>Email: admin@quran.com</li>
        <li>Address: Egypt - Cairo</li>
    </ul>

    <img src="{% static 'img/logo.png' %}" alt="logo">
</div>
<hr>
<table class="table table-striped">
    <thead>
        <tr>
            <th>Student Name</th>
            <th>Teacher</th>
            <th>Date</th>
            <th>Total Hours</th>
            <th>Subject Name</th>
            <th>Evaluation</th>
            <th>Comment</th>
        </tr>
    </thead>
    <tbody>
        {% if total_classes > 0 %}
        {% for class in classes %}
        <tr>
            <td>{{ class.student.name }}</td>
            <td>{{ class.instructor.user.name }}</td>
            <td>{{ class.date }}</td>
            <td>{{ total_hours }}</td>
            <td>{{ class.subject_name }}</td>
            <td>{{ class.evaluation }}</td>
            <td>{{ class.notes }}</td>
        </tr>
        {% endfor %}
        {% else %}
        <p class="text-danger">لا توجد حصص لهذه الشهر للطالب المحدد.</p>
        {% endif %}

    </tbody>
</table>


<div class="total-list">
    <img src="{% static 'img/logo.png' %}" alt="logo">
    <div class="total">
        <div class="list">
            <div class="col">
                <h4>Total Invoice</h4>
                <h6>Invoice for Month {{ selected_month|date:"m/Y" }}</h6>
                <p>Total Hours: <span>{{ total_hours }}</span></p>
                <p>Total Sessions: <span>{{ total_classes }}</span></p>
                <p>Total Before Tax: <span>${{ total_before_tax|floatformat:"2" }}</span></p>
                <p>Total After Tax: <span>${{ total_after_tax|floatformat:"2" }}</span></p>
                <p>Tax Percentage: <span>{{ tax_percentage }}%</span></p>
            </div>
        </div>
    </div>
</div>

{% endblock content %}
